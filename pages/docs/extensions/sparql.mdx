---
layout: "ExtensionPageLayout"
description: "Run SPARQL against different data sources, importing the results into Roam!"
loom: ba5d62f993364b3590ef22d73a5cc9e8
contributors: Ivo Velitchkov ðŸ’µðŸ““
---

### Usage

To run a SPARQL query, open the Roam command palette with CMD+p (CTRL+p on Windows) and search for "Run SPARQL Query". This will open a dialog where you could run one of two types of SPARQL queries>

#### Current Page

This will run a query to search all the properties of an entity based on the current page name and will bring the specified number of values. They will be created as pairs of blocks in your graph in the following way: properties as Roam attributes and their values as child blocks. All attributes will show the matching Wikidata property in their page, linked with `same as::` attribute. All property values, which are entities (people, places, and things as opposed to numbers and dates ) will be created (or reused if existing) as page references and their matching Wikidata item URI will be inserted as value of `same as::` attribute, the same way as the property.

#### Current Block

This will run a query to search all of the properties of an entity based on the current block text. If the current block text is empty, it will use the parent block. All properties and entities imported will automatically tagged with a reference to their link on their respective pages.

#### Custom Query

You could write your own query in the code box in the dialog. The code block supports SPARQL query syntax. The results of the query will output with entity values being chilren of select variable names.

#### Label

You could define a custom global default label on the `roam/js/sparql` page. Each query could also use its own label, accessible by expanding the additional options. The `{date}` placeholder can be used to record the datetime of the import.
 